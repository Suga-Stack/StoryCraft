[tool.ruff]
# 排除的文件和目录
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".git-rewrite",
    ".hg",
    ".ipynb_checkpoints",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".pyenv",
    ".pytest_cache",
    ".pytype",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    ".vscode",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "site-packages",
    "venv",
    "**/migrations/*.py",  # 忽略 Django 迁移文件
    "**/prompts.py",       # 忽略 prompts.py
]

# 行长限制
line-length = 120
indent-width = 4

# 目标 Python 版本
target-version = "py313"

[tool.ruff.lint]
# 启用的规则集
# E: pycodestyle errors
# F: Pyflakes
# I: isort (导入排序)
# W: pycodestyle warnings
select = ["E", "F", "I", "W"]

# 忽略的规则
# E501: Line too long
# E701: Multiple statements on one line (colon)
ignore = ["E501", "E701"]

# 允许自动修复的规则
fixable = ["ALL"]
unfixable = []

[tool.ruff.lint.per-file-ignores]
"**/settings.py" = ["E402"]
"users/views.py" = ["E722"]
"**/tests/*" = ["F841", "W293", "W291"]
"**/test_*.py" = ["F841", "W293", "W291", "E501"]

[tool.ruff.format]
# 使用双引号
quote-style = "double"
# 缩进风格
indent-style = "space"
# 跳过魔术尾随逗号
skip-magic-trailing-comma = false
# 行尾符
line-ending = "auto"
